# Staging environment configuration
# Extends deploy.yaml with staging-specific settings

serversGuru:
  apiKey: '${SERVERSGURU_API_KEY}'

vps:
  type: 'NL1-2' # Smaller instance for staging
  osImage: 'ubuntu-22.04'
  billingCycle: 1
  hostname: 'staging-app'

ssh:
  port: 22
  username: root
  connectionTimeout: 30000
  commandTimeout: 300000

app:
  name: 'myapp-staging'
  dockerImage: 'ghcr.io/${GITHUB_REPOSITORY}:staging'
  registryAuth:
    username: '${DOCKER_REGISTRY_USERNAME}'
    password: '${DOCKER_REGISTRY_PASSWORD}'
    registry: ghcr.io
  port: 3000
  healthEndpoint: '/health'
  envVars:
    NODE_ENV: 'staging'
    LOG_LEVEL: 'debug'
    DATABASE_URL: '${STAGING_DATABASE_URL}'

domain:
  name: 'staging.example.com'
  email: 'devops@example.com'

options:
  createSnapshot: true
  healthCheckRetries: 10
  healthCheckInterval: 3000
  provisioningTimeout: 600000
  setupTimeout: 900000
